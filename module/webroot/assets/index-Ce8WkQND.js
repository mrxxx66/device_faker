import{b as J,d as k,_ as K,a as I,u as he,c as d,i as E,e as j,f as A,o as g,r as P,g as F,w as $,h as Q,j as D,n as X,k as o,l as v,m as Ce,t as Y,v as ee,T as se,p as be,q as Te,s as te,x as Se,y as ne,z as N,A as Ee,B as G,C as we,D as Be,E as Ne,F as Me,G as S,H as M,I as W,J as $e,K as ke,L as Ie,M as Le,N as _e,O as Oe,P as Ae,Q as Pe,R as z,S as oe,U as x,V as De,W as q,X as xe,Y as ae,Z as O,$ as Fe}from"./index-1cFEQesh.js";const ze=J({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:k([String,Object,Array])},offset:{type:k(Array),default:[0,0]},badgeClass:{type:String}}),He=I({name:"ElBadge"}),Re=I({...He,props:ze,setup(s,{expose:a}){const e=s,t=he("badge"),i=d(()=>e.isDot?"":E(e.value)&&E(e.max)?e.max<e.value?`${e.max}+`:`${e.value}`:`${e.value}`),r=d(()=>{var n,p,y,b,m;return[{backgroundColor:e.color,marginRight:j(-((p=(n=e.offset)==null?void 0:n[0])!=null?p:0)),marginTop:j((b=(y=e.offset)==null?void 0:y[1])!=null?b:0)},(m=e.badgeStyle)!=null?m:{}]});return a({content:i}),(n,p)=>(g(),A("div",{class:v(o(t).b())},[P(n.$slots,"default"),F(se,{name:`${o(t).namespace.value}-zoom-in-center`,persisted:""},{default:$(()=>[Q(D("sup",{class:v([o(t).e("content"),o(t).em("content",n.type),o(t).is("fixed",!!n.$slots.default),o(t).is("dot",n.isDot),o(t).is("hide-zero",!n.showZero&&n.value===0),n.badgeClass]),style:X(o(r))},[P(n.$slots,"content",{value:o(i)},()=>[Ce(Y(o(i)),1)])],6),[[ee,!n.hidden&&(o(i)||n.isDot||n.$slots.content)]])]),_:3},8,["name"])],2))}});var Ue=K(Re,[["__file","badge.vue"]]);const Ve=be(Ue),u={placement:"top"},le=["primary","success","info","warning","error"],re=["top","top-left","top-right","bottom","bottom-left","bottom-right"],C="top",c=Te({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,placement:void 0,zIndex:0,grouping:!1,repeatNum:1,appendTo:te?document.body:void 0}),Ze=J({customClass:{type:String,default:c.customClass},dangerouslyUseHTMLString:{type:Boolean,default:c.dangerouslyUseHTMLString},duration:{type:Number,default:c.duration},icon:{type:Se,default:c.icon},id:{type:String,default:c.id},message:{type:k([String,Object,Function]),default:c.message},onClose:{type:k(Function),default:c.onClose},showClose:{type:Boolean,default:c.showClose},type:{type:String,values:le,default:c.type},plain:{type:Boolean,default:c.plain},offset:{type:Number,default:c.offset},placement:{type:String,values:re,default:c.placement},zIndex:{type:Number,default:c.zIndex},grouping:{type:Boolean,default:c.grouping},repeatNum:{type:Number,default:c.repeatNum}}),je={destroy:()=>!0},f=ne({}),Ge=s=>(f[s]||(f[s]=ne([])),f[s]),We=(s,a)=>{const e=f[a]||[],t=e.findIndex(n=>n.id===s),i=e[t];let r;return t>0&&(r=e[t-1]),{current:i,prev:r}},qe=(s,a)=>{const{prev:e}=We(s,a);return e?e.vm.exposed.bottom.value:0},Je=(s,a,e)=>(f[e]||[]).findIndex(r=>r.id===s)>0?16:a,Ke=I({name:"ElMessage"}),Qe=I({...Ke,props:Ze,emits:je,setup(s,{expose:a,emit:e}){const t=s,{Close:i}=Le,r=N(!1),{ns:n,zIndex:p}=Ee("message"),{currentZIndex:y,nextZIndex:b}=p,m=N(),w=N(!1),H=N(0);let L;const ce=d(()=>t.type?t.type==="error"?"danger":t.type:"info"),ue=d(()=>{const l=t.type;return{[n.bm("icon",l)]:l&&G[l]}}),R=d(()=>t.icon||G[t.type]||""),T=d(()=>t.placement||C),pe=d(()=>qe(t.id,T.value)),U=d(()=>Je(t.id,t.offset,T.value)+pe.value),de=d(()=>H.value+U.value),fe=d(()=>T.value.includes("left")?n.is("left"):T.value.includes("right")?n.is("right"):n.is("center")),V=d(()=>T.value.startsWith("top")?"top":"bottom"),me=d(()=>({[V.value]:`${U.value}px`,zIndex:y.value}));function _(){t.duration!==0&&({stop:L}=_e(()=>{B()},t.duration))}function Z(){L?.()}function B(){w.value=!1,Oe(()=>{var l;r.value||((l=t.onClose)==null||l.call(t),e("destroy"))})}function ge(l){Ae(l)===Pe.esc&&B()}return we(()=>{_(),b(),w.value=!0}),Be(()=>t.repeatNum,()=>{Z(),_()}),Ne(document,"keydown",ge),Me(m,()=>{H.value=m.value.getBoundingClientRect().height}),a({visible:w,bottom:de,close:B}),(l,ve)=>(g(),S(se,{name:o(n).b("fade"),onBeforeEnter:ye=>r.value=!0,onBeforeLeave:l.onClose,onAfterLeave:ye=>l.$emit("destroy"),persisted:""},{default:$(()=>[Q(D("div",{id:l.id,ref_key:"messageRef",ref:m,class:v([o(n).b(),{[o(n).m(l.type)]:l.type},o(n).is("closable",l.showClose),o(n).is("plain",l.plain),o(n).is("bottom",o(V)==="bottom"),o(fe),l.customClass]),style:X(o(me)),role:"alert",onMouseenter:Z,onMouseleave:_},[l.repeatNum>1?(g(),S(o(Ve),{key:0,value:l.repeatNum,type:o(ce),class:v(o(n).e("badge"))},null,8,["value","type","class"])):M("v-if",!0),o(R)?(g(),S(o(W),{key:1,class:v([o(n).e("icon"),o(ue)])},{default:$(()=>[(g(),S($e(o(R))))]),_:1},8,["class"])):M("v-if",!0),P(l.$slots,"default",{},()=>[l.dangerouslyUseHTMLString?(g(),A(ke,{key:1},[M(" Caution here, message could've been compromised, never use user's input as message "),D("p",{class:v(o(n).e("content")),innerHTML:l.message},null,10,["innerHTML"])],2112)):(g(),A("p",{key:0,class:v(o(n).e("content"))},Y(l.message),3))]),l.showClose?(g(),S(o(W),{key:2,class:v(o(n).e("closeBtn")),onClick:Ie(B,["stop"])},{default:$(()=>[F(o(i))]),_:1},8,["class","onClick"])):M("v-if",!0)],46,["id"]),[[ee,w.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var Xe=K(Qe,[["__file","message.vue"]]);let Ye=1;const es=s=>{if(!s.appendTo)s.appendTo=document.body;else if(z(s.appendTo)){let e=document.querySelector(s.appendTo);xe(e)||(ae("ElMessage","the appendTo option is not an HTMLElement. Falling back to document.body."),e=document.body),s.appendTo=e}},ss=s=>{!s.placement&&z(u.placement)&&u.placement&&(s.placement=u.placement),s.placement||(s.placement=C),re.includes(s.placement)||(ae("ElMessage",`Invalid placement: ${s.placement}. Falling back to '${C}'.`),s.placement=C)},ie=s=>{const a=!s||z(s)||oe(s)||x(s)?{message:s}:s,e={...c,...a};return es(e),ss(e),O(u.grouping)&&!e.grouping&&(e.grouping=u.grouping),E(u.duration)&&e.duration===3e3&&(e.duration=u.duration),E(u.offset)&&e.offset===16&&(e.offset=u.offset),O(u.showClose)&&!e.showClose&&(e.showClose=u.showClose),O(u.plain)&&!e.plain&&(e.plain=u.plain),e},ts=s=>{const a=s.props.placement||C,e=f[a],t=e.indexOf(s);if(t===-1)return;e.splice(t,1);const{handler:i}=s;i.close()},ns=({appendTo:s,...a},e)=>{const t=`message_${Ye++}`,i=a.onClose,r=document.createElement("div"),n={...a,id:t,onClose:()=>{i?.(),ts(m)},onDestroy:()=>{q(null,r)}},p=F(Xe,n,x(n.message)||oe(n.message)?{default:x(n.message)?n.message:()=>n.message}:null);p.appContext=e||h._context,q(p,r),s.appendChild(r.firstElementChild);const y=p.component,m={id:t,vnode:p,vm:y,handler:{close:()=>{y.exposed.close()}},props:p.component.props};return m},h=(s={},a)=>{if(!te)return{close:()=>{}};const e=ie(s),t=Ge(e.placement||C);if(e.grouping&&t.length){const r=t.find(({vnode:n})=>{var p;return((p=n.props)==null?void 0:p.message)===e.message});if(r)return r.props.repeatNum+=1,r.props.type=e.type,r.handler}if(E(u.max)&&t.length>=u.max)return{close:()=>{}};const i=ns(e,a);return t.push(i),i.handler};le.forEach(s=>{h[s]=(a={},e)=>{const t=ie(a);return h({...t,type:s},e)}});function os(s){for(const a in f)if(De(f,a)){const e=[...f[a]];for(const t of e)(!s||s===t.props.type)&&t.handler.close()}}function as(s){if(!f[s])return;[...f[s]].forEach(e=>e.handler.close())}h.closeAll=os;h.closeAllByPlacement=as;h._context=null;const rs=Fe(h,"$message");export{rs as ElMessage,C as MESSAGE_DEFAULT_PLACEMENT,rs as default,c as messageDefaults,je as messageEmits,re as messagePlacement,Ze as messageProps,le as messageTypes};
